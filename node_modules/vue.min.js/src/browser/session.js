import vue, {lib, library} from "vue.min.js"
import ini from "@/package.json"
let {define} = lib
let {zero, one} = lib

vue.session = function (session) {
	if (session) return vue.react (vue.session.data, session)
	else return vue.session.data
	}

vue.session.get = function (key, value) {
	if (key in vue.session.data) return vue.session.data [key] || value
	else return vue.cookie.get (key, value) || ""
	}

vue.session.set = function (session) {
	if (session) {
		if (vue.react) vue.react (vue.session.data, session)
		if (vue.express ()) return vue.socket.emit ("session", session)
		else for (var i in session) vue.cookie.set (i, session [i])
		}
	}

vue.session.delete = function (session) {
	if (session) {
		if (vue.react) delete vue.session.data [session]
		if (vue.express ()) {}
		else vue.cookie.delete (session)
		}
	}

vue.session.id = vue.cookie.id
vue.session.data = vue.reactive ()
