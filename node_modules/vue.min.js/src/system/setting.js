import vue, {lib, library} from "vue.min.js"
import ini from "@/package.json"
let {define} = lib
let {zero, one} = lib

vue.setting = function (key, value) {
	if (arguments.length > one) return vue.setting.data.value [key] = value
	else if (key) return vue.setting.data.value [key]
	else return vue.setting.data.value
	}

vue.setting.data = vue.reference ({})
vue.setting ("media-player:audio", lib.storage.set ("media-player:audio", null, true))
vue.setting ("media-query:screen", lib.storage.set ("media-query:screen", null, true))
vue.setting ("media-query:screen-splash", lib.storage.set ("media-query:screen-splash", null, true))
vue.setting ("media-query:line", lib.storage.set ("media-query:line", null, true))
vue.setting ("media-query:loading", lib.storage.set ("media-query:loading", null, true))
vue.setting ("media-query:progress", lib.storage.set ("media-query:progress", null, true))

vue.on ("package", function () {
	vue.catch (() => {
		vue.web.site.setting = vue.ini ().web.site.setting
		})
	if ("media-player:audio" in vue.web.site.setting) if ((vue.web.site.setting ["media-player:audio"] === lib.storage.get ("media-player:audio")) === false) vue.setting ("media-player:audio", lib.storage.set ("media-player:audio", vue.web.site.setting ["media-player:audio"]))
	if ("media-query:screen" in vue.web.site.setting) if ((vue.web.site.setting ["media-query:screen"] === lib.storage.get ("media-query:screen")) === false) vue.setting ("media-query:screen", lib.storage.set ("media-query:screen", vue.web.site.setting ["media-query:screen"]))
	if ("media-query:screen-splash" in vue.web.site.setting) if ((vue.web.site.setting ["media-query:screen-splash"] === lib.storage.get ("media-query:screen-splash")) === false) vue.setting ("media-query:screen-splash", lib.storage.set ("media-query:screen-splash", vue.web.site.setting ["media-query:screen-splash"]))
	if ("media-query:line" in vue.web.site.setting) if ((vue.web.site.setting ["media-query:line"] === lib.storage.get ("media-query:line")) === false) vue.setting ("media-query:line", lib.storage.set ("media-query:line", vue.web.site.setting ["media-query:line"]))
	if ("media-query:loading" in vue.web.site.setting) if ((vue.web.site.setting ["media-query:loading"] === lib.storage.get ("media-query:loading")) === false) vue.setting ("media-query:loading", lib.storage.set ("media-query:loading", vue.web.site.setting ["media-query:loading"]))
	if ("media-query:progress" in vue.web.site.setting) if ((vue.web.site.setting ["media-query:progress"] === lib.storage.get ("media-query:progress")) === false) vue.setting ("media-query:progress", lib.storage.set ("media-query:progress", vue.web.site.setting ["media-query:progress"]))
	})
