<script>
import vue, {lib, library} from "vue.min.js"
export default vue.next ({
	element: "form:file",
	attribute: ["for", "model"],
	setup: function (prop) {
		var label = vue.reference (prop.for)
		var model = vue.reference (vue.model.format (prop.model))
		var attribute = vue.reactive (vue.form.attribute (prop))
		if (vue.ini ("watch:legacy")) vue.watch (prop, function () {
			label.value = prop.for
			model.value = vue.model.format (prop.model)
			vue.react (attribute, vue.form.attribute (prop))
			})
		return {vue, label, model, attribute}
		},
	})
</script>

<template id="form:file">
	<input v-if="label" v-bind:for="label" v-bind:model="model" type="file" element="form:text" v-file>
	<input v-bind:model="model" type="file" element="form:file" v-file v-else>
</template>
